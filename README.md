欢迎捐款：
Tron：TF4uQYmwbxv3z4v7DqGNmXf5V31AfburBq
Sol：48UmuXnw7GfPHRxRLXb2Q6AV4HTCnigtaGG1hssCQhFa
BNB&ETH：0xde49ac6d927540d82baf52435d7693a2629bc54b
BTC：bc1p3znwjh0zx4v02vttm8499dghhyll7vzjw63429wsdvuuk5akaepsg4l3h2


# 账号查询管理系统

这是一个功能全面的账号查询和管理系统，采用Python语言开发，具有友好的图形界面和强大的功能。

## 功能特点

- **账号查询**：通过ID快速查询账号信息，支持多ID同时查询
- **2FA自动获取**：对带有2FA标记的字段，自动获取并显示动态验证码和倒计时
- **字段管理**：灵活添加、删除字段，适应不同需求
- **账号管理**：添加、编辑账号信息，数据实时保存
- **批量导入**：支持从Excel表格批量导入账号数据
- **美观界面**：简洁、直观的用户界面，操作方便
- **2FA密钥提取**：支持从账号数据中批量提取2FA密钥
- **数据复制**：支持多种方式复制账号信息，方便快捷

## 如何使用

### 系统要求

- Python 3.6+
- 必要的依赖包（详见requirements.txt）

### 安装依赖

```bash
pip install -r requirements.txt
```

### 运行程序

#### 方法一：直接运行Python脚本

```bash
python main.py
```

#### 方法二：使用批处理文件（Windows）

双击运行`run.bat`文件，自动安装依赖并启动程序。

## 界面说明

### 账号查询界面

- **输入框**：输入要查询的ID，多个ID可用空格、逗号或换行分隔
- **2FA开关**：开启后，自动获取2FA验证码和显示倒计时
- **字段选择**：可选择需要显示的字段
- **结果区域**：显示查询结果，包括所有字段信息
- **复制功能**：
  - 双击单元格复制内容
  - 右键菜单提供多种复制选项
  - 支持Ctrl+C快捷键复制选中内容
  - 支持带/不带标题行的复制

### 管理界面

- **添加账号**：
  - 手动添加单个账号
  - 从Excel批量导入
- **字段管理**：
  - 添加新字段（可设置是否为2FA字段）
  - 删除现有字段
- **修改账号**：
  - 通过ID修改已有账号信息
  - 支持从账号列表中选择后修改
  - 修改前需二次确认
- **账号列表**：
  - 显示所有账号的信息
  - 支持多种复制功能
  - 双击行可快速编辑账号

## 数据格式要求

### ID格式要求

- ID是每个账号的唯一标识符
- 系统中不允许有重复的ID
- ID不可为空，其他字段可以为空

### 2FA字段格式要求

系统能自动识别并解析以下格式的2FA字段内容：
- 完整URL格式：`https://2fa.fb.rip/XXXXX`
- 简短格式：`2fa.fb.rip/XXXXX`
- 直接密钥格式：`XXXXX`（纯字母数字）

系统会自动解析2FA密钥，并调用API获取动态验证码和剩余时间。

### Excel导入格式要求

Excel文件必须符合以下格式要求：
- **必须包含ID列**：作为账号的唯一标识
- **第一行必须是字段名**：表头将作为系统中的字段名
- **字段名规范**：
  - 如果带有"2FA"字符串的字段会自动标记为2FA字段
  - 所有字段名区分大小写
  - 不能使用特殊字符（如：`/\:*?"<>|`）
- **数据行**：每行代表一个账号的完整信息
- **空值处理**：
  - 除ID外的空单元格将导入为空字符串
  - 如果ID为空，该行将被跳过
- **数据类型**：所有数据将被转换为文本格式存储
- **自动字段创建**：
  - 如果Excel中包含系统中不存在的字段，会自动添加
  - 自动添加的字段会根据名称判断是否为2FA字段

## 复制功能说明

系统提供多种方式复制账号信息：

1. **双击复制**：双击任意单元格可复制其内容
2. **选择复制**：
   - 选中多个单元格后按Ctrl+C
   - 选中后右键选择"复制选中内容"
3. **带标题复制**：右键菜单中选择"复制(包含标题行)"可复制带字段名的数据
4. **智能OTP复制**：复制OTP列时，会智能复制纯验证码而非显示的格式

## 2FA自动获取说明

系统支持自动获取和显示2FA验证码：

- **自动识别**：自动识别包含"2FA"的字段
- **查询模式**：支持串行和并行两种模式获取2FA验证码
- **验证码显示**：在原字段右侧动态显示验证码和倒计时
- **自动刷新**：当验证码过期时自动刷新
- **计时显示**：倒计时小于10秒时显示红色提醒
- **手动停止**：可随时停止所有2FA查询

## 2FA密钥提取工具

在`分离f2a`目录下提供了2FA密钥提取工具，可从账号数据中批量提取2FA密钥：

```bash
python extract_2fa.py 输入文件 输出文件
```

示例用法：
```bash
python extract_2fa.py accounts.txt 2fa_keys.txt
```

提取工具格式说明：
- 输入文件应为按特定格式分隔的文本文件
- 默认按冒号(:)分隔，提取第6个字段作为2FA密钥
- 输出文件中每行一个密钥，可直接用于其他2FA工具

## 数据存储

所有账号数据保存在本地SQLite数据库文件(accounts.db)中，确保数据安全和隐私。

数据库结构：
- **accounts表**：存储所有账号信息，ID为主键
- **fields表**：存储字段定义，包括字段名称和是否为2FA字段标记


